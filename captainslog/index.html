<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script>
    function add_to_log(element){

        if(element.keyCode == 13){
            var output = "";

            date = new Date();
            txt = date + " - " + document.getElementById("msg").value;

            localStorage["log"] = '<p>' + txt + '</p>' + localStorage["log"];

            //for (var i = localStorage.length -1; i >= 0; i--) {
                output = /*output + "<p>" + */localStorage.getItem(localStorage.key(0)) /*+ "</p>\n"*/;
            //}

            page = $("#log");
            $(page).html("<p>" + output + "</p>");

            document.getElementById("msg").value = "";
        }

    };
    $(document).ready(function(){
        localStorage["log"] = '';
        $("#msg").on("keydown", add_to_log);
    });
    </script>

</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>